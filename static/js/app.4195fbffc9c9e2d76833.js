webpackJsonp([0],{"2SS3":function(e,t,A){e.exports=A.p+"static/img/component-diagram.5f49110.jpg"},"7Otq":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAaQAAAGkCAYAAAB+TFE1AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAgiSURBVHic7dm/ap9lHIfhpzEmFhNiSTRaSdClYDXiIILBRfQYHJ3dXTwID8DZ0XMQNwUnsQjWSVP8EzSYEEWT1tSp4FY6yHP/6HUdwWd4H274vpeOj4/vDgCYbGn2AAAYQ5AAiBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgYXn2gHtuHZ6P305uz54BC293e3VsbmSedsLRyZ1xcHg2e0bS1sajY2d7ZfaMMUYoSF/cOB2f3zidPQMW3jtvbY79l9dnz0i5+cNf45NPj2bPSNrfWx8725uzZ4wxnOwAiBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASFiePeCene2V8crZ47NnwMLbeiLzrOGBZL7c1/fWx+t767NnADCJkx0ACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZCwPHvAPd//fDZ+Pb4zewYLZGtjeTx/dXX2jI4/fx+P/PjN7BVJV05WxhhPzZ7BfWSC9OU3f4zPb5zOnsECefWFNUH6j6XffxzLn300e0bSS8+8OD549/3ZM5Iur3YOZZkgAfxflpYujac3V2bP4D46aQTgoSZIACQIEgAJggRAgiABkCBIACQIEgAJggRAgiABkCBIACQIEgAJggRAgiABkCBIACQIEgAJggRAgiABkCBIACQIEgAJggRAgiABkCBIACQIEgAJggRAgiABkCBIACQIEgAJggRAgiABkCBIACQIEgAJggRAgiABkCBIACQIEgAJggRAgiABkCBIACQIEgAJggRAgiABkCBIACQIEgAJggRAgiABkCBIACQIEgAJggRAgiABkCBIACQIEgAJggRAgiABkCBIACQIEgAJggRAgiABkCBIACQIEgAJggRAgiABkCBIACQIEgAJggRAgiABkCBIACQIEgAJy7MHAPzfLi7ujl+OzmfPSLq8ujQ21hopaKwYYzx3dXXc/ufu7BkskOefWZ09oeXxK+Pi2huzVyT98PeT48OPf5o9I2l/b3288/bm7BljjFCQXru+Nl67vjZ7BiysiyvPjos335s9I+ng69Mxvj2aPYP78A8JgARBAiBBkABIECQAEgQJgARBAiBBkABIECQAEgQJgARBAiBBkABIECQAEgQJgARBAiBBkABIECQAEgQJgARBAiBBkABIECQAEgQJgARBAiBBkABIECQAEgQJgARBAiBBkABIECQAEgQJgARBAiBBkABIECQAEgQJgARBAiBBkABIECQAEgQJgARBAiBBkABIECQAEgQJgARBAiBBkABIECQAEgQJgARBAiBBkABIECQAEgQJgARBAiBBkABIECQAEgQJgARBAiBBkABIECQAEgQJgARBAiBBkABIECQAEgQJgARBAiBBkABIECQAEgQJgARBAiBBkABIWJ494J4vbpyOmwd/z54BC29/b21c2708ewY8sEyQbh2ej6+++3P2DFh413YeG9d2Z6+AB+dkB0CCIAGQIEgAJAgSAAmCBECCIAGQIEgAJAgSAAmCBECCIAGQIEgAJAgSAAmCBECCIAGQIEgAJAgSAAmCBECCIAGQIEgAJAgSAAmCBECCIAGQIEgAJAgSAAmCBECCIAGQIEgAJAgSAAmCBECCIAGQIEgAJAgSAAmCBECCIAGQIEgAJAgSAAmCBECCIAGQIEgAJAgSAAmCBECCIAGQIEgAJAgSAAmCBECCIAGQIEgAJAgSAAmCBECCIAGQIEgAJAgSAAmCBECCIAGQIEgAJAgSAAmCBECCIAGQIEgAJAgSAAmCBECCIAGQIEgAJAgSAAmCBECCIAGQIEgAJAgSAAmCBEDCpePj47uzR4wxxq3D8/Hbye3ZM2Dh7W6vjs2N5dkzUo5O7oyDw7PZM5K2Nh4dO9srs2eMMUJBAuDh5mQHQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQMK/J0tvGJKteYYAAAAASUVORK5CYII="},"7zck":function(e,t){},NHnr:function(e,t,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=A("7+uW"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-app",[t("v-toolbar",[t("v-avatar",{attrs:{tile:"true"}},[t("img",{attrs:{src:A("7Otq"),alt:"Logo"}})]),this._v(" "),t("v-toolbar-title",[this._v("Cross border eID documentation")])],1),this._v(" "),t("v-content",[t("router-view")],1)],1)},staticRenderFns:[]},c=A("VU/8")(null,i,!1,null,null,null).exports,n=A("/ocq"),g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-layout",[a("v-flex",{attrs:{xs12:"",sm8:"","offset-sm2":""}},[a("h2",[e._v("Overview")]),e._v(" "),a("p",[e._v("Describe components and architecture here.")]),e._v(" "),a("p",{staticClass:"mb-1 white"},[a("img",{staticClass:"diagram-align",style:{width:e.zoom+"%"},attrs:{src:A("2SS3"),alt:"Component diagram"},on:{click:e.toggleZoom}}),e._v(" "),a("img",{staticClass:"diagram-align",style:{width:e.zoom+"%"},attrs:{src:A("aZxj"),alt:"Authentication sequence diagram"},on:{click:e.toggleZoom}})]),e._v(" "),a("p",{staticClass:"caption"},[e._v("(Click to toggle zoom)")]),e._v(" "),a("h2",[e._v("API and usage")]),e._v(" "),a("p",[e._v("Describe API here, including how to select the parameters (hash algorithm, UI language).\n        "),a("code",{staticStyle:{width:"100%"}},[e._v('\n  <script>\n    try {\n      var eid = ... initialize the eID object, pass hash algorithm and UI language ...;\n\n      var authentication_cert = await eid.get_authentication_certificate();\n      var authentication_token = await eid.sign_with_authentication_key(authentication_challenge_from_server);\n\n      var signing_cert = await eid.get_signing_certificate();\n      var signature = await eid.sign_with_signing_key(document_hash_from_server);\n\n    } catch (error) {\n      alert("eID error: " + error);\n    }\n  <\/script>\n        ')])]),e._v(" "),a("h2",[e._v("Authentication")]),e._v(" "),a("p",{staticClass:"mt-2"},[e._v("Authentication sequence:")]),e._v(" "),a("ol",{staticClass:"ml-4"},[a("li",[e._v("Browser initializes the eID object")]),e._v(" "),a("li",[e._v("Browser gets the authentication certficate from the eID object")]),e._v(" "),a("li",[e._v("Browser sends the authentication certificate to the server")]),e._v(" "),a("li",[e._v("Server verifies the validity of the certificate with OCSP")]),e._v(" "),a("li",[e._v("If the certificate is valid, server sends the authentication challenge (an UUID/nonce) to the browser")]),e._v(" "),a("li",[e._v("Browser asks the eID object to sign the authentication challenge with the authentication private key")]),e._v(" "),a("li",[e._v("eID object returns the signature to the browser")]),e._v(" "),a("li",[e._v("Browser sends the signature to the server")]),e._v(" "),a("li",[e._v("Server verifies the signature using the public key from the authentication certificate")]),e._v(" "),a("li",[e._v("If signature verification succeeds, the user is authenticated")])]),e._v(" "),a("h3",{staticClass:"mt-4"},[a("v-chip",{attrs:{small:""}},[e._v("1")]),e._v("\n        Get authentication certificate\n      ")],1),e._v(" "),a("v-btn",{staticClass:"mt-3"},[e._v("Try it")]),e._v(" "),a("p",{staticClass:"mt-3"},[a("b",[e._v("Output: ")]),e._v(" "),e.authenticationCertificate?a("span",[a("code",{staticStyle:{width:"100%","overflow-wrap":"break-word"}},[e._v(e._s(e.authenticationCertificate))])]):a("span",[a("code",[e._v("...")]),e._v(" "),a("v-chip",{attrs:{small:"","text-color":"grey",color:"grey lighten-3"},on:{click:e.fillAuthenticationCertficate}},[e._v("Click to fill example value")])],1)]),e._v(" "),a("p",[e._v("Convert the hex-encoded certificate bytes from the output above to DER encoded certificate:\n        "),a("code",{staticStyle:{width:"100%"}},[e._v("\n  echo '↑ copy-paste hex-encoded certificate from output above ↑' | xxd -r -p > cert.der\n        ")])]),e._v(" "),a("p",[e._v("Verify and view the certificate:\n        "),a("code",{staticStyle:{width:"100%"}},[e._v("\n  openssl x509 -in cert.der -inform der -text -noout\n        ")])]),e._v(" "),a("p",[e._v("Extract the public key from the certificate:\n        "),a("code",{staticStyle:{width:"100%"}},[e._v("\n  openssl x509 -in cert.der -inform der -pubkey -noout > pubkey.pem\n        ")])]),e._v(" "),a("h3",{staticClass:"mt-4"},[a("v-chip",{attrs:{small:""}},[e._v("2")]),e._v("\n        Authenticate with challenge\n      ")],1),e._v(" "),a("v-btn",{staticClass:"mt-3"},[e._v("Try it")]),e._v(" "),a("div",{staticClass:"mt-3"},[a("v-text-field",{staticClass:"mb-0",attrs:{disabled:e.authenticationChallengeDisabled,label:e.authenticationChallengeLabel,value:e.authenticationChallengeValue}})],1),e._v(" "),a("p",[a("b",[e._v("Output: ")]),e._v(" "),e.authenticationSignature?a("span",[a("code",{staticStyle:{width:"100%","overflow-wrap":"break-word"}},[e._v(e._s(e.authenticationSignature))])]):a("span",[a("code",[e._v("...")]),e._v(" "),a("v-chip",{attrs:{small:"","text-color":"grey",color:"grey lighten-3"},on:{click:e.fillAuthenticationSignature}},[e._v("Click to fill example value")])],1)]),e._v(" "),a("p",[e._v("Convert the hex-encoded authentication signature bytes from the output above to binary file:\n        "),a("code",{staticStyle:{width:"100%"}},[e._v("\n  echo '↑ copy-paste hex-encoded signature from output above ↑' | xxd -r -p > sigfile\n        ")])]),e._v(" "),a("p",[e._v("Decrypt the signature and send the output to file "),a("code",[e._v("challenge.rsautl-decrypted")]),e._v(":\n        "),a("code",{staticStyle:{width:"100%"}},[e._v("\n  openssl rsautl -verify -in sigfile -pkcs -inkey pubkey.pem -pubin > challenge.rsautl-decrypted\n        ")])]),e._v(" "),a("p",[e._v("Save the challenge to file "),a("code",[e._v("challenge")]),e._v(" (if the bytes are hex-encoded, then decode with "),a("code",[e._v("xxd")]),e._v(")\n        and verify that the challenge file and decrypted file are identical:\n        "),a("code",{staticStyle:{width:"100%"}},[e._v("\n  diff --report-identical-files challenge challenge.rsautl-decrypted\n        ")])]),e._v(" "),a("p",[e._v("If the files are identical, the user identity is verified.")]),e._v(" "),a("h2",{staticClass:"mt-4"},[e._v("Signing")]),e._v(" "),a("h3",{staticClass:"mt-4"},[a("v-chip",{attrs:{small:""}},[e._v("3")]),e._v("\n        Get signing certificate\n      ")],1),e._v(" "),a("v-btn",[e._v("Try it")]),e._v(" "),a("p",{staticClass:"mt-3"},[a("b",[e._v("Output: ")]),a("code",[e._v("...")])]),e._v(" "),a("p",[e._v("TODO: Like\n        "),a("v-chip",{attrs:{small:"",outline:""}},[e._v("1")]),e._v("\n        above\n      ")],1),e._v(" "),a("h3",{staticClass:"mt-4"},[a("v-chip",{attrs:{small:""}},[e._v("4")]),e._v("\n        Sign document hash\n      ")],1),e._v(" "),a("v-btn",[e._v("Try it")]),e._v(" "),a("p",{staticClass:"mt-3"},[a("b",[e._v("Output: ")]),a("code",[e._v("...")])]),e._v(" "),a("p",[e._v("TODO: Like\n        "),a("v-chip",{attrs:{small:"",outline:""}},[e._v("2")]),e._v("\n        above, but describe how to prefix ASN.1 OID as needed during signature verification:\n        "),a("code",{staticStyle:{width:"100%"}},[e._v("\n  sha1_asn1_prefix_hex = '3021300906052b0e03021a05000414'\n  document_hash_hex = '...'\n  echo \"${sha1_asn1_prefix_hex}${document_hash_hex}\" | xxd -r -p > data_to_sign\n        ")])],1)],1)],1)],1)},staticRenderFns:[]};var d=A("VU/8")({data:function(){return{zoom:49,authenticationCertificate:null,authenticationSignature:null,authenticationChallengeDisabled:!1,authenticationChallengeLabel:"Authentication challenge",authenticationChallengeValue:"Hello, eID!",signingCertificate:null,signingSignature:null}},methods:{toggleZoom:function(){this.zoom=49===this.zoom?100:49},fillAuthenticationCertficate:function(){this.authenticationCertificate="308204f4308203dca00302010202044d359fb9300d06092a864886f70d0101050500305f310b300906035504061302454531223020060355040a1319415320536572746966697473656572696d69736b65736b7573311a3018060355040b131154657374736572746966696b61616469643110300e06035504031307544553542d534b301e170d3131303131383134313230395a170d3132303430373131343231375a3081c0310b300906035504061302454531143012060355040a130b544553542d45535445494431173015060355040b130e61757468656e7469636174696f6e3141303f06035504031e38004d00c4004e004e0049004b002c004d004100520049002d004c004900490053002c003300370031003000310030003100300030003300333115301306035504041e0c004d00c4004e004e0049004b31123010060355042a13094d4152492d4c494953311430120603550405130b333731303130313030333330820122300d06092a864886f70d01010105000382010f003082010a028201008d48e33e80b0ac1b2008e95dac0a7b778a9286eddb7085a07cd0fab69e09e818ae27efe25a9f228d16ca5fed6619de39f33fc9fc15cb6ec21d0f8d7c89848ad618b72a654efd9da016d9eee25c4c9cb6d72d56fe83234e62698e3f1c3fbabdb0056c3e273bfd5f9ce44b25cce08f105827f1c06c409cbf864178285bef17bd0f774425801f5dd2b3b5aa788a47b54b93db35df494b70aa47ac4f6e3eff3bf28b49ab3819d8ea48713942b76a96bea3b9d5356631067b0367749c04863d1727270cfc656d75eab0b417e0cbb54347d15487a0614cd89efb1fcead483b1f0c18a921c8ac3bb11411e8e5e4aec6f56b70224d18380105df41dc6a3f28dbc4ed16dd02047bb8fde3a382015430820150300e0603551d0f0101ff040403020490301d0603551d250416301406082b0601050507030206082b0601050507030430330603551d1f042c302a3028a026a0248622687474703a2f2f7777772e736b2e65652f63726c732f746573742f63726c2e63726c30260603551d11041f301d811b6d6172692d6c6969732e6d616e6e696b2e374065657374692e6565305d0603551d20045630543052060b2b06010401ce1f030101013043301e06082b0601050507020230121a1054657374736572746966696b6161742e302106082b060105050702011615687474703a2f2f7777772e736b2e65652f6370732f301806082b06010505070103040c300a3008060604008e460101301f0603551d23041830168014020527dda87287b782c05b392a7fe338f2fa5209301d0603551d0e04160414b4a9a669cdea056c4de78f31183e2cb0eae4514e30090603551d1304023000300d06092a864886f70d010105050003820101004bbdd3e9e7718d7b84afa95026b4966e8d66f6a5f9cd5b7749c32d88f84080b8707e000826985713687172b39a0bea4b85636636d29aead705d6d1d802b243bdfa2f316b2c3319cc502e2f025101091f23200fbc611f3d5ac3a6a96adf9eaf20816e0d0e596bf4f1bfd7c77097b4c3a9677070f89c1126e12f806f2d21ed8528c3800ba9dfa04b0300604ede8ddf8251473c11e173284fb30568500f2abd6f786b902aaf138228f5ad690a3872176bdcd43e9656c87adb9586689c0c534b52b0804844735133b0362c188a42b1f80966fa1d8c46cc1fe60efd0fede684059867e832b1da4f40bfc6248e72ae797935f9f3473dc7afa6a0b8fc1316e81460d578"},fillAuthenticationSignature:function(){this.authenticationChallengeLabel+=" (hex-encoded bytes)",this.authenticationChallengeValue="1234567890123456789012345678901234567890",this.authenticationChallengeDisabled=!0,this.authenticationSignature="06171fc41aa174a4a8c69204c290614b9227c8af282defe7212f20f1ca35c8e03559760d4f9bdbb5a8eeb7c4fbba9b7cb599c75362e691d33617d061fb9ab2239dd789f83e8d894ba6866317dbbc9f84ef8342002fdf2204c8c60005ef0106d06cff8bd3dd677ebbcb79a75bde0026a91e72bdabf13703faadf2c8b7e17647ae59a5394860e10c0771eaad44cf68adeb6e0b05190be2c9cec8195fba2e54d029ff82f588aef0193e425fe6d58ba35f326cde8b30f7e6c9f3fcbbab8442e4cbde17ee6dcb742c034395b5917bf92ec1602334521ad1a73e650720db8a60229c20162d374f5e34e37f7fca07eba46d354bc385e8d08a3a831836e18a7468a2b71e"}}},g,!1,function(e){A("pvzH")},"data-v-48d8585e",null).exports;a.a.use(n.a);var I=new n.a({routes:[{path:"/",name:"Documentation",component:d}]}),s=A("3EgV"),o=A.n(s);A("7zck");a.a.use(o.a,{theme:{primary:"#ee44aa",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}),a.a.config.productionTip=!1,new a.a({el:"#app",router:I,components:{App:c},template:"<App/>"})},aZxj:function(e,t,A){e.exports=A.p+"static/img/authentication-sequence-diagram.d98e7a8.png"},pvzH:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.4195fbffc9c9e2d76833.js.map