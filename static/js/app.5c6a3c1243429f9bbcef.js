webpackJsonp([1],{"2SS3":function(A,e,t){A.exports=t.p+"static/img/component-diagram.5f49110.jpg"},"7Otq":function(A,e){A.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAaQAAAGkCAYAAAB+TFE1AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAgiSURBVHic7dm/ap9lHIfhpzEmFhNiSTRaSdClYDXiIILBRfQYHJ3dXTwID8DZ0XMQNwUnsQjWSVP8EzSYEEWT1tSp4FY6yHP/6HUdwWd4H274vpeOj4/vDgCYbGn2AAAYQ5AAiBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgYXn2gHtuHZ6P305uz54BC293e3VsbmSedsLRyZ1xcHg2e0bS1sajY2d7ZfaMMUYoSF/cOB2f3zidPQMW3jtvbY79l9dnz0i5+cNf45NPj2bPSNrfWx8725uzZ4wxnOwAiBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASBAkABIECYAEQQIgQZAASFiePeCene2V8crZ47NnwMLbeiLzrOGBZL7c1/fWx+t767NnADCJkx0ACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZCwPHvAPd//fDZ+Pb4zewYLZGtjeTx/dXX2jI4/fx+P/PjN7BVJV05WxhhPzZ7BfWSC9OU3f4zPb5zOnsECefWFNUH6j6XffxzLn300e0bSS8+8OD549/3ZM5Iur3YOZZkgAfxflpYujac3V2bP4D46aQTgoSZIACQIEgAJggRAgiABkCBIACQIEgAJggRAgiABkCBIACQIEgAJggRAgiABkCBIACQIEgAJggRAgiABkCBIACQIEgAJggRAgiABkCBIACQIEgAJggRAgiABkCBIACQIEgAJggRAgiABkCBIACQIEgAJggRAgiABkCBIACQIEgAJggRAgiABkCBIACQIEgAJggRAgiABkCBIACQIEgAJggRAgiABkCBIACQIEgAJggRAgiABkCBIACQIEgAJggRAgiABkCBIACQIEgAJggRAgiABkCBIACQIEgAJggRAgiABkCBIACQIEgAJggRAgiABkCBIACQIEgAJy7MHAPzfLi7ujl+OzmfPSLq8ujQ21hopaKwYYzx3dXXc/ufu7BkskOefWZ09oeXxK+Pi2huzVyT98PeT48OPf5o9I2l/b3288/bm7BljjFCQXru+Nl67vjZ7BiysiyvPjos335s9I+ng69Mxvj2aPYP78A8JgARBAiBBkABIECQAEgQJgARBAiBBkABIECQAEgQJgARBAiBBkABIECQAEgQJgARBAiBBkABIECQAEgQJgARBAiBBkABIECQAEgQJgARBAiBBkABIECQAEgQJgARBAiBBkABIECQAEgQJgARBAiBBkABIECQAEgQJgARBAiBBkABIECQAEgQJgARBAiBBkABIECQAEgQJgARBAiBBkABIECQAEgQJgARBAiBBkABIECQAEgQJgARBAiBBkABIECQAEgQJgARBAiBBkABIECQAEgQJgARBAiBBkABIECQAEgQJgARBAiBBkABIECQAEgQJgARBAiBBkABIWJ494J4vbpyOmwd/z54BC29/b21c2708ewY8sEyQbh2ej6+++3P2DFh413YeG9d2Z6+AB+dkB0CCIAGQIEgAJAgSAAmCBECCIAGQIEgAJAgSAAmCBECCIAGQIEgAJAgSAAmCBECCIAGQIEgAJAgSAAmCBECCIAGQIEgAJAgSAAmCBECCIAGQIEgAJAgSAAmCBECCIAGQIEgAJAgSAAmCBECCIAGQIEgAJAgSAAmCBECCIAGQIEgAJAgSAAmCBECCIAGQIEgAJAgSAAmCBECCIAGQIEgAJAgSAAmCBECCIAGQIEgAJAgSAAmCBECCIAGQIEgAJAgSAAmCBECCIAGQIEgAJAgSAAmCBECCIAGQIEgAJAgSAAmCBECCIAGQIEgAJAgSAAmCBECCIAGQIEgAJAgSAAmCBEDCpePj47uzR4wxxq3D8/Hbye3ZM2Dh7W6vjs2N5dkzUo5O7oyDw7PZM5K2Nh4dO9srs2eMMUJBAuDh5mQHQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQIIgAZAgSAAkCBIACYIEQMK/J0tvGJKteYYAAAAASUVORK5CYII="},"7zck":function(A,e){},NHnr:function(A,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=t("7+uW"),g={render:function(){var A=this.$createElement,e=this._self._c||A;return e("v-app",[e("v-toolbar",[e("v-avatar",{attrs:{tile:"true"}},[e("img",{attrs:{src:t("7Otq"),alt:"Logo"}})]),this._v(" "),e("v-toolbar-title",[this._v("Cross border eID documentation")])],1),this._v(" "),e("v-content",[e("router-view")],1)],1)},staticRenderFns:[]},a=t("VU/8")(null,g,!1,null,null,null).exports,I=t("/ocq"),n={render:function(){var A=this,e=A.$createElement,i=A._self._c||e;return i("v-container",[i("v-layout",[i("v-flex",{attrs:{xs12:"",sm8:"","offset-sm2":""}},[i("h2",[A._v("Overview")]),A._v(" "),i("p",[A._v("Describe components and architecture here.")]),A._v(" "),i("p",[i("img",{staticStyle:{width:"100%"},attrs:{src:t("2SS3"),alt:"Component diagram"}})]),A._v(" "),i("p",[i("img",{staticStyle:{width:"100%"},attrs:{src:t("aZxj"),alt:"Component diagram"}})]),A._v(" "),i("h2",[A._v("API and usage")]),A._v(" "),i("p",[A._v("Describe API here, including how to select the parameters (hash algorithm, UI language).\n        "),i("code",{staticStyle:{width:"100%"}},[A._v('\n  <script>\n  try {\n      var eid = ... initialize the eID object, pass hash algorithm and UI language ...;\n\n      var authentication_cert = await eid.get_authentication_certificate();\n      var authentication_token = await eid.sign_with_authentication_key(authentication_challenge_from_server);\n\n      var signing_cert = await eid.get_signing_certificate();\n      var signature = await eid.sign_with_signing_key(document_hash_from_server);\n\n  } catch (error) {\n      alert("eID error: " + error);\n  }\n  <\/script>\n        ')])]),A._v(" "),i("h2",[A._v("Authentication")]),A._v(" "),i("p",{staticClass:"mt-2"},[A._v("Authentication sequence:")]),A._v(" "),i("ol",{staticClass:"ml-4"},[i("li",[A._v("Browser initializes the eID object")]),A._v(" "),i("li",[A._v("Browser gets the authentication certficate from the eID object")]),A._v(" "),i("li",[A._v("Browser sends the authentication certificate to the server")]),A._v(" "),i("li",[A._v("Server verifies the validity of the certificate with OCSP")]),A._v(" "),i("li",[A._v("If the certificate is valid, server sends the authentication challenge (an UUID) to the browser")]),A._v(" "),i("li",[A._v("Browser asks the eID object to sign the authentication challenge with the authentication private key")]),A._v(" "),i("li",[A._v("eID object returns the signature to the browser")]),A._v(" "),i("li",[A._v("Browser sends the signature to the server")]),A._v(" "),i("li",[A._v("Server verifies the signature using the public key from the authentication certificate")]),A._v(" "),i("li",[A._v("If signature verification succeeds, the user is authenticated")])]),A._v(" "),i("h3",{staticClass:"mt-4"},[i("v-chip",{attrs:{small:""}},[A._v("1")]),A._v("\n        Get authentication certificate\n      ")],1),A._v(" "),i("v-btn",{staticClass:"mt-3"},[A._v("Try it")]),A._v(" "),i("p",{staticClass:"mt-3"},[i("b",[A._v("Output: ")]),i("code",[A._v("...")])]),A._v(" "),i("p",[A._v("Convert the hex-encoded certificate bytes from the line above to DER encoded certificate:\n        "),i("code",{staticStyle:{width:"100%"}},[A._v("\n  echo '↑ copy-paste hex-encoded certificate from line above ↑' | xxd -r -p > cert.der\n        ")])]),A._v(" "),i("p",[A._v("Verify and view the certificate:\n        "),i("code",{staticStyle:{width:"100%"}},[A._v("\n  openssl x509 -in cert.der -inform der -text -noout\n        ")])]),A._v(" "),i("p",[A._v("Extract the public key from the certificate:\n        "),i("code",{staticStyle:{width:"100%"}},[A._v("\n  openssl x509 -in cert.der -inform der -pubkey -noout > pubkey.pem\n        ")])]),A._v(" "),i("h3",{staticClass:"mt-4"},[i("v-chip",{attrs:{small:""}},[A._v("2")]),A._v("\n        Authenticate with challenge\n      ")],1),A._v(" "),i("v-btn",{staticClass:"mt-3"},[A._v("Try it")]),A._v(" "),i("p",{staticClass:"mt-3"},[i("b",[A._v("Output: ")]),i("code",[A._v("...")])]),A._v(" "),i("p",[A._v("Convert the hex-encoded signature bytes from the line above to binary file:\n        "),i("code",{staticStyle:{width:"100%"}},[A._v("\n  echo '↑ copy-paste hex-encoded signature from line above ↑' | xxd -r -p > sigfile\n        ")])]),A._v(" "),i("p",[A._v("Decrypt the signature and send the output to file "),i("code",[A._v("challenge.rsautl-decrypted")]),A._v(":\n        "),i("code",{staticStyle:{width:"100%"}},[A._v("\n  openssl rsautl -verify -in sigfile -pkcs -inkey pubkey.pem -pubin > challenge.rsautl-decrypted\n        ")])]),A._v(" "),i("p",[A._v("Save the challenge to file "),i("code",[A._v("challenge")]),A._v(" and verify that the challenge file and decrypted file are identical:\n        "),i("code",{staticStyle:{width:"100%"}},[A._v("\n  diff --report-identical-files challenge challenge.rsautl-decrypted\n        ")])]),A._v(" "),i("p",[A._v("If the files are identical, the user identity is verified.")]),A._v(" "),i("h2",{staticClass:"mt-4"},[A._v("Signing")]),A._v(" "),i("h3",{staticClass:"mt-4"},[i("v-chip",{attrs:{small:""}},[A._v("3")]),A._v("\n        Get signing certificate\n      ")],1),A._v(" "),i("v-btn",[A._v("Try it")]),A._v(" "),i("p",{staticClass:"mt-3"},[i("b",[A._v("Output: ")]),i("code",[A._v("...")])]),A._v(" "),i("p",[A._v("TODO: Like "),i("v-chip",{attrs:{small:"",outline:""}},[A._v("1")]),A._v(" above")],1),A._v(" "),i("h3",{staticClass:"mt-4"},[i("v-chip",{attrs:{small:""}},[A._v("4")]),A._v("\n        Sign document hash\n      ")],1),A._v(" "),i("v-btn",[A._v("Try it")]),A._v(" "),i("p",{staticClass:"mt-3"},[i("b",[A._v("Output: ")]),i("code",[A._v("...")])]),A._v(" "),i("p",[A._v("TODO: Like "),i("v-chip",{attrs:{small:"",outline:""}},[A._v("2")]),A._v(" above, but describe how to prefix ASN.1 OID as needed during signature verification:\n        "),i("code",{staticStyle:{width:"100%"}},[A._v("\n  sha1_asn1_prefix_hex = '3021300906052b0e03021a05000414'\n  document_hash_hex = '...'\n  echo \"${sha1_asn1_prefix_hex}${document_hash_hex}\" | xxd -r -p > data_to_sign\n        ")])],1)],1)],1)],1)},staticRenderFns:[]},B=t("VU/8")(null,n,!1,null,null,null).exports;i.a.use(I.a);var s=new I.a({routes:[{path:"/",name:"Documentation",component:B}]}),r=t("3EgV"),C=t.n(r);t("7zck");i.a.use(C.a,{theme:{primary:"#ee44aa",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}),i.a.config.productionTip=!1,new i.a({el:"#app",router:s,components:{App:a},template:"<App/>"})},aZxj:function(A,e,t){A.exports=t.p+"static/img/authentication-sequence-diagram.d98e7a8.png"}},["NHnr"]);
//# sourceMappingURL=app.5c6a3c1243429f9bbcef.js.map